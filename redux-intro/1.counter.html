<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Document</title>
  </head>
  <body>
    <script src="./redux.js"></script>
    <script>
      // create a store
      const { createStore, combineReducers } = Redux;

      // count action
      // action creators
      const increment = () => {
        return {
          type: "INCREMENT",
        };
      };

      const decrement = () => {
        return {
          type: "DECREMENT",
        };
      };

      const reset = () => {
        return {
          type: "RESET",
        };
      };

      const incrementBy = (n) => {
        return {
          type: "INCREMENT_BY",
          payload: n
        };
      };

      // initial state for the reducer
      const countInitialState = 0;

      // count reducer
      const countReducer = (state = countInitialState, action) => {
        if (action.type === "INCREMENT") {
          return state + 1;
        } else if (action.type === "DECREMENT") {
          return state - 1;
        } else if (action.type === "RESET") {
          return 0;
        } else if (action.type === "INCREMENT_BY") {
          return state + action.payload;
        } else {
          return state;
        }
      };

      // passing reducers to the store
      const store = createStore(
        combineReducers({
          count: countReducer,
        })
      );

      console.log(store);
      console.log(store.getState());

      // subscribing to the state
      store.subscribe(() => {
        console.log(store.getState());
      });

      store.dispatch(increment());
      store.dispatch(increment());
      store.dispatch(decrement());
      store.dispatch(reset());
      store.dispatch(incrementBy(10));
    </script>
  </body>
</html>
